//------BEFORE--------------------------
Template.introContent.helpers({
    subTopics: function(){
        return [{
            link:'Basic Commands',
            videoId:'4XY0syQ5tUs?rel=0',
            subTitle:'basic_commands',
        },{
            link:'Simple Drawing',
            videoId:'VKgXOGz7p2k?rel=0',
            subTitle:'simple_drawing',
        },{
            link:'Simple Drawing 2',
            videoId: 'AnxXDCIDSqM?rel=0',
            subTitle: 'simple_panorama',
        }]
    },
});

Template.introContent.onCreated(function introOnCreated(){
    videoLink = '4XY0syQ5tUs?rel=0';
    this.tutorial_id = new ReactiveVar(videoLink);
    //this.selected_video = new ReactiveVar(Session.get());
});

Template.introContent.helpers({
  tutorial_id() {
    return Template.instance().tutorial_id.get();
  }
});

Template.introContent.events({
    // during click event assign the value of link_id equal to the value of videoId of the clicked link
    'click .video-links':function(event){
        var link_id = this.videoId;
        videoLink = link_id;
    }
});

Template.introContent.events({
  'click'(event, instance) {
      instance.tutorial_id.set(videoLink);
  }
});

//------AFTER--------------------------

Template.introContent.helpers({
    subTopics: function(){
        return [{
            link:'Basic Commands',
            videoId:'4XY0syQ5tUs?rel=0',
            subTitle:'basic_commands',
        },{
            link:'Simple Drawing',
            videoId:'VKgXOGz7p2k?rel=0',
            subTitle:'simple_drawing',
        },{
            link:'Simple Drawing 2',
            videoId: 'AnxXDCIDSqM?rel=0',
            subTitle: 'simple_panorama',
        }]
    },
});

Template.introContent.onCreated(function introOnCreated(){
    if(localStorage.getItem("selectedVideoLink")=== null || localStorage.getItem("selectedVideoLink")===  "null"){
      videoLink = '4XY0syQ5tUs?rel=0';
    }else{
      videoLink = localStorage.getItem("selectedVideoLink");
    }
    this.tutorial_id = new ReactiveVar(videoLink);
});

Template.introContent.onDestroyed(function(){
  localStorage.setItem("selectedVideoLink", null);
});

Template.introContent.helpers({
  tutorial_id() {
    return Template.instance().tutorial_id.get();
  },
});
//Template.pointAndLine.events


Template.introContent.events({
    // during click event assign the value of link_id equal to the value of videoId of the clicked link
    'click .video-links':function(event){
        var link_id = this.videoId;
        videoLink = link_id;
        localStorage.setItem("selectedVideoLink", link_id);
    }
});

Template.introContent.events({
  'click'(event, instance) {
      instance.tutorial_id.set(videoLink);
  }
});
